<!DOCTYPE html><html lang="fr-fr">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta name="copyright" content="&#xA9;Copyright IBM Corporation 2016">
<meta name="DC.Rights.Owner" content="&#xA9;Copyright IBM Corporation 2016">
<meta name="dcterms.rights" content="&#xA9; Copyright IBM Corporation {{ copyright.years }}">
<meta name="source.format" content="markdown">


<!-- Licensed Materials - Property of IBM -->
<!-- US Government Users Restricted Rights -->
<!-- Use, duplication or disclosure restricted by -->
<!-- GSA ADP Schedule Contract with IBM Corp. -->

</head>
<body><main role="main"><article role="article">
<h1 id="gettingstartedtemplate">Initiation au module de démarrage de Watson IoT Platform</h1><p class="last-updated"><!-- Provide and appropriate ID above -->
<em>Dernière mise à jour : 27 juin 2016</em></p><p class="shortdesc">Commencez à utiliser IBM&reg; Watson&trade; IoT Platform à l&#39;aide du conteneur boilerplate du module de démarrage de Watson IoT Platform. Avec le module de démarrage, vous pouvez rapidement simuler un terminal, créer des cartes, générer des données et commencer à analyser et à afficher des données dans le tableau de bord de Watson IoT Platform.</p><p>Le module de démarrage déploie et connecte automatiquement ces services :</p><p>Watson IoT Platform - la plateforme fournit un kit d&#39;outils IoT polyvalent comportant des terminaux de passerelle, la gestion des terminaux et un accès puissant aux applications. Watson IoT Platform vous permet de collecter des données relatives à des terminaux connectés et d&#39;effectuer des analyses sur des données temps réel à partir de votre organisation.</p><p>IBM&reg; SDK for Node.js for Bluemix&reg; - crée un environnement d&#39;exécution dans lequel Node-RED s&#39;exécute.</p><p>IBM&reg; Cloudant&reg; NoSQL DB for Bluemix&reg; - base de données dans laquelle Node-RED stocke des métadonnées.</p><h2 id="about_iotplatform">A propos de Watson IoT Platform</h2><p>Watson IoT Platform fournit aux applications un accès puissant aux terminaux et aux données IoT afin de vous aider à composer rapidement des applications d&#39;analyse, des tableaux de bord de visualisation et des applications IoT mobiles.
Watson IoT Platform vous permet d&#39;effectuer des opérations de gestion de terminaux puissantes, de stocker des données de terminal et d&#39;y accéder, et de connecter une grande diversité de terminaux et de terminaux de passerelle. Watson IoT Platform fournit une communication sécurisée vers et depuis vos terminaux à l&#39;aide de MQTT et de TLS.</p><h2 id="about_nodered">A propos de Node-RED</h2><p>Node-RED est un outil qui permet de relier des terminaux matériels, des API et des services en ligne selon des méthodes inédites et intéressantes.  Vous pouvez utiliser Node-RED pour créer un thermostat simulé qui envoie des données simulées à votre service Watson IoT Platform. Vous pouvez créer des cartes pour afficher des données temps réel dans le tableau de bord de Watson IoT Platform. Pour plus d&#39;informations, voir la <a href="https://console.ng.bluemix.net/docs/starters/Node-RED/nodered.html#nodered">documentation Node-RED</a>.</p><h2 id="gettingaround">Navigation dans l&#39;application</h2><p>A mesure que vous exécuterez les étapes suivantes, vous serez amené à utiliser trois onglets différents dans votre navigateur :</p><ol>
<li>Tableaux de bord de <em>Bluemix</em> - Le tableau de bord de Bluemix vous permet de voir l&#39;état de votre déploiement, de lire la documentation et de lancer les tableaux de bord.</li><li>Tableau de bord de <em>Watson IoT Platform</em> - Ce tableau de bord vous permet de gérer ce service. Vous pourrez ainsi définir des types de terminal, enregistrer des terminaux, surveiller les données de capteur entrantes, créer des cartes de visualisation de données et afficher des visualisations de données réelles.</li><li><em>Node-RED</em> - En exécutant Node-RED comme une application Web node.js, vous pourrez configurer et exécuter le flux de simulateur de terminaux et gérer d&#39;autres flux pour traiter les données à partir de Watson IoT Platform.</li></ol>
<h2 id="definingsimdev">Définition d&#39;un terminal simulé dans Watson IoT Platform</h2><p>Enregistrez votre terminal auprès de Watson IoT Platform :</p><ol>
<li>Dans Bluemix, accédez à l&#39;onglet de présentation de votre application déployée.</li><li>Cliquez sur la zone Watson IoT Platform box dans la section ou l&#39;onglet Connexions.</li><li>Cliquez sur Lancer le tableau de bord pour ouvrir le tableau de bord de Watson IoT Platform dans une nouvelle fenêtre du navigateur.</li><li>Sélectionnez Terminaux.</li><li>Cliquez sur Ajouter un terminal.</li><li>Cliquez sur Créer un type de terminal dans la boîte de dialogue Ajouter un terminal.</li><li>Cliquez sur Créer un type de terminal dans la boîte de dialogue Création d&#39;un type de terminal.</li><li>Entrez un nom descriptif et une description pour le type de terminal, par exemple, thermostat.</li><li>Ignorez Définir un modèle.</li><li>Ignorez Métadonnées.</li><li>Cliquez sur Créer pour ajouter le nouveau type de terminal.</li><li>Cliquez sur Suivant pour ajouter votre terminal (l&#39;option Sélectionner un type de terminal est présélectionnée).</li><li>Entrez un ID de terminal, par exemple, LivingRoomThermo1.</li><li>Ignorer : Entrez des métadonnées de terminal.</li><li>Cliquez sur Suivant pour ajouter une connexion de terminal à l&#39;aide d&#39;un jeton d&#39;authentification généré automatiquement.</li><li>Vérifiez que les informations récapitulatives sont correctes, puis cliquez sur Ajouter pour ajouter la connexion.</li><li>Sur la page Informations sur le terminal qui s&#39;affiche, copiez et sauvegardez les informations sur le terminal :<ul>
<li>ID organisation</li><li>Type de terminal</li><li>ID terminal</li><li>Méthode d&#39;authentification</li><li>Jeton d&#39;authentification</li></ul>
</li></ol>
<p><strong>Conseil</strong> : Vous aurez besoin des informations ID organisation, Type de terminal et ID terminal au cours des quelques étapes suivantes pour finaliser la configuration de l&#39;application Node-RED et établir la connexion.</p><h2 id="confignodered">Configuration et exécution du simulateur de terminal Node-RED</h2><p>Configurez le simulateur de terminal Node-RED. Utilisez le simulateur de terminal pour envoyer des messages de terminal MQTT à Watson IoT Platform. Le simulateur de terminal envoie des informations de température et d&#39;humidité à Watson IoT Platform.</p><ol>
<li>Dans votre tableau de bord de Bluemix, ouvrez Node-RED en sélectionnant <strong>Afficher l&#39;application</strong> ou en cliquant sur le lien (par exemple, http:// myIoTApp.mybluemix.net).</li><li>Cliquez sur <strong>Accédez à votre éditeur de flux Node-RED</strong> pour ouvrir l&#39;éditeur.</li><li>Cliquez deux fois sur le noeud <strong>Envoyer</strong> vers Watson IoT Platform de couleur bleue dans le flux de simulateur de terminal.<ol>
<li>Vérifiez que l&#39;option Authentication = Service Bluemix</li><li>Collez le type de terminal à partir du terminal que vous avez enregistré.</li><li>Collez l&#39;ID terminal à partir du terminal que vous avez enregistré.</li><li>Cliquez sur OK.</li></ol>
</li><li>Dans l&#39;angle supérieur droit de l&#39;éditeur de flux Node-RED, cliquez sur <strong>Déployer</strong>.</li><li>Configurez le flux de contrôle de température Node-RED.<ol>
<li>Cliquez deux fois sur le noeud IBM IoT App de couleur bleue dans le flux de simulateur de terminal.</li><li>Remplacez la valeur de l&#39;option Authentification par Service Bluemix.</li><li>Sélectionnez Tout pour Type de terminal, ID terminal, Evénement et Format.</li><li>Cliquez sur OK.</li></ol>
</li><li>Dans l&#39;angle supérieur droit de l&#39;éditeur de flux Node-RED, cliquez sur <strong>Déployer</strong>.</li><li><p>Validez la connexion de terminal.</p><ol>
<li>Dans l&#39;autre onglet ou fenêtre de navigateur, revenez dans le tableau de bord de Watson IoT Platform.</li><li>Sélectionnez Terminaux et cliquez sur LivingRoomThermo1 ou sur le nom du terminal que vous avez ajouté, si celui-ci est différent.<br>La page Informations sur le terminal s&#39;ouvre. Cette vue vous permet d&#39;afficher l&#39;état de connexion pour votre terminal. Le terminal est à l&#39;état Déconnecté.</li><li>De retour dans votre éditeur de flux Node-RED, cliquez sur le bouton correspondant au noeud d&#39;envoi de données de couleur grise afin de générer un contenu d&#39;actif.
Le contenu comporte les points de données suivants :<pre><code>{&quot;d&quot;:{&quot;temp&quot;:15,&quot;humidity&quot;:50,&quot;location&quot;:{&quot;longitude&quot;:-98.49,&quot;latitude&quot;:29.42}}}
</code></pre>
</li><li>Dans l&#39;onglet de débogage du panneau de droite, vérifiez que des messages sont créés.</li><li>Sur la page Informations sur le terminal Watson IoT Platform, assurez-vous que vous voyez les mêmes points de données que ceux reçus du terminal dans la section Informations sur les capteurs.</li></ol>
</li><li><p>Connectez votre exemple de terminal IoT à Watson IoT Platform pour visualiser les données de terminal.</p></li></ol>
<h2 id="createcards">Création de cartes dans Watson IoT Platform pour afficher des données réelles</h2><p>Pour créer des cartes, procédez comme suit :</p><h3 id="g-n-ration-automatique-de-donn-es-toutes-les-3-secondes">Génération automatique de données toutes les 3 secondes</h3><ol>
<li>Dans l&#39;onglet Node-RED, cliquez deux fois sur le noeud Envoyer des données.</li><li>Définissez un intervalle de répétition de 3 secondes.</li><li>Procédez au déploiement.</li></ol>
<h3 id="cr-ation-de-nouvelles-cartes-dans-le-tableau-de-bord">Création de nouvelles cartes dans le tableau de bord</h3><ol>
<li>Accédez à l&#39;onglet de navigateur du tableau de bord de Watson IoT Platform.</li><li>Sélectionnez TABLEAUX.</li><li>Cliquez sur Créer un nouveau tableau.</li><li>Donnez-lui un nom, par exemple, Home Environment.</li><li>Procédez à la création.</li><li>Cliquez sur Ajouter une nouvelle carte (pour la température).<ol>
<li>Sous Terminaux, sélectionnez Graphique en temps réel.</li><li>Sous Données source de carte, cochez votre terminal &quot;LivingRoomThermo1&quot;, puis cliquez sur Suivant.</li><li>Cliquez sur Connecter un nouveau fichier.<ul>
<li>Nom : Température</li><li>Événement : Mise à jour</li><li>Propriété : temp</li><li>Type : Variable flottante</li><li>Unité : °C</li><li>Précision : 2</li><li>Min : 0</li><li>Max : 50</li><li>Suivant</li></ul>
</li><li>Cliquez sur Aperçu de la carte.<ul>
<li>Sélectionnez L</li><li>Suivant</li></ul>
</li><li>Cliquez sur Informations sur la carte.<ul>
<li>Titre : Température</li></ul>
</li><li>Cliquez sur Soumettre.</li><li>La carte de température apparaît sur le tableau de bord et comporte un graphique des données de température réelles.</li></ol>
</li><li>Cliquez sur Ajouter une nouvelle carte (pour l&#39;humidité).<ol>
<li>Sous Terminaux, sélectionnez Plus de détails.</li><li>Sélectionnez Jauge.</li><li>Sous Données source de carte, cochez votre terminal, puis cliquez sur Suivant.</li><li>Cliquez sur Connecter un nouveau fichier.<ul>
<li>Nom : Humidité</li><li>Événement : Mise à jour</li><li>Propriété : humidity</li><li>Type : Variable flottante</li><li>Unité : &quot;% d&#39;humidité relative&quot;</li><li>Précision : 1</li><li>Min : 10</li><li>Max : 95</li><li>Suivant</li></ul>
</li><li>Cliquez sur Aperçu de la carte.<ul>
<li>Paramètres</li><li>Seuil inférieur : 40 et correct</li><li>Milieu : satisfaisant</li><li>Seuil supérieur : 50 et correct</li><li>Sélectionnez M</li><li>Suivant</li></ul>
</li><li>Cliquez sur Informations sur la carte.<ul>
<li>Titre : Humidité</li></ul>
</li><li>Cliquez sur Soumettre.</li><li>La carte d&#39;humidité apparaît sur le tableau de bord et comporte une jauge illustrant les données d&#39;humidité réelles.</li></ol>
</li><li>Cliquez sur Ajouter une nouvelle carte (pour l&#39;emplacement).<ol>
<li>Sous Terminaux, sélectionnez Plus de détails.</li><li>Sélectionnez Valeur.</li><li>Sous Données source de carte, cochez votre terminal &quot;LivingRoomThermo1&quot;, puis cliquez sur Suivant.</li><li>Cliquez sur Connecter un nouveau fichier.<ul>
<li>Nom : Latitude</li><li>Événement : Mise à jour</li><li>Propriété : location.latitude</li><li>Type : Variable flottante</li><li>Unité : &quot;°N&quot;</li><li>Précision : 2</li><li>Min : -180</li><li>Max : 180</li></ul>
</li><li>Cliquez sur Connecter un nouveau fichier.<ul>
<li>Nom : Longitude</li><li>Événement : Mise à jour</li><li>Propriété : location.longitude</li><li>Type : Variable flottante</li><li>Unité : &quot;°E&quot;</li><li>Précision : 2</li><li>Min : -180</li><li>Max : 180</li><li>Suivant</li></ul>
</li><li>Cliquez sur Aperçu de la carte.<ul>
<li>Sélectionnez L</li><li>Suivant</li></ul>
</li><li>Cliquez sur Informations sur la carte.<ul>
<li>Titre : Emplacement</li></ul>
</li><li>Cliquez sur Soumettre.</li></ol>
</li><li>Surveillez la mise à jour de vos nouvelles cartes en temps réel à l&#39;aide des données de simulateur générées par le flux Node-RED.
<strong>Remarque</strong> : Node-RED continue d&#39;envoyer des données tant que vous ne l&#39;arrêtez pas.</li><li>Dans l&#39;éditeur de flux Node-RED, mettez à jour le noeud Envoyer des données en affectant la valeur Aucun à l&#39;intervalle de répétition.</li><li>Procédez au déploiement.</li></ol>
<h2 id="whatsnext">Etape suivante ?</h2><p>A présent que votre terminal simulé envoie des données à Watson IoT Platform, vous pouvez continuer d&#39;effectuer des itérations sur votre projet IoT.</p><ol>
<li><a href="https://developer.ibm.com/recipes/?post_type=tutorials&amp;s=watson+iot">Effectuez des recherches dans nos recettes IoT</a> pour connecter un terminal physique, tel que Raspberry Pi, et envoyer des données à Watson IoT Platform.</li><li><a href="https://www.bluemix.net/docs/services/IoT/visualizingdata_sample.html">Déployez un exemple d&#39;application node.js pour visualiser des données de terminal.</a></li><li>Protégez l&#39;éditeur de flux Node-RED par un mot de passe. Par défaut, l&#39;éditeur est ouvert et tout utilisateur peut accéder et modifier des flux. Pour protéger l&#39;éditeur par un mot de passe, procédez comme suit :<ol>
<li>Dans le tableau de bord Bluemix, sélectionnez la page &#39;Variables d&#39;environnement&#39; pour votre application.</li><li>Ajoutez les variables définies par l&#39;utilisateur suivantes :<ul>
<li>NODE_RED_USERNAME - nom d&#39;utilisateur pour la sécurisation de l&#39;éditeur</li><li>NODE_RED_PASSWORD - mot de passe pour la sécurisation de l&#39;éditeur</li></ul>
</li><li>Cliquez sur Sauvegarder.</li></ol>
</li></ol>
<h1 id="rellinks">Liens connexes</h1><h2 id="samples">Exemples et tutoriels</h2><ul>
<li><a href="https://developer.ibm.com/recipes/?post_type=tutorials&amp;s=iot" target="_blank">Recettes relatives à la connexion de vos terminaux</a></li><li><a href="https://play.internetofthings.ibmcloud.com/" target="_blank">Organisation Watson&trade; IoT Platform Play</a></li><li><a href="https://developer.ibm.com/recipes/tutorials/connect-an-intel-galileo-to-the-internet-of-things-foundation-connect/" target="_blank">Connexion d&#39;un Intel Galileo à Watson&trade; IoT Platform</a></li><li><a href="https://developer.ibm.com/recipes/tutorials/arm-mbed-iot-starter-kit-part-1/" target="_blank">Connexion d&#39;un kit de démarrage ARM&reg; mbed&trade; IoT Starter Kit</a></li><li><a href="https://developer.ibm.com/recipes/tutorials/raspberry-pi-4/" target="_blank">Connexion d&#39;un terminal Raspberry Pi à Watson&trade; IoT Platform</a></li></ul>
<h2 id="api">Référence d&#39;API</h2><ul>
<li><a href="https://docs.internetofthings.ibmcloud.com/swagger/v0002.html#/" target="_blank">Documentation de l&#39;API Watson&trade; IoT Platform</a></li></ul>
<h2 id="general">Liens connexes</h2><ul>
<li><a href="https://www.bluemix.net/docs/services/IoT/iotplatform_overview.html" target="_blank">Documentation de l&#39;API Watson IoT Platform</a></li><li><a href="https://console.ng.bluemix.net/docs/starters/Node-RED/nodered.html" target="_blank">Documentation du module de démarrage IBM&reg; SDK for Node.js for Bluemix&reg;</a></li></ul>
</article></main></body></html>